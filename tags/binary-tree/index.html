<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    标签: binary tree
  
</title>

<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="SL">
<meta property="og:url" content="http://shaolongm17x.github.io/blog-hexo/tags/binary-tree/index.html">
<meta property="og:site_name" content="SL">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SL">
<meta name="twitter:description">


  <link rel="alternative" href="/atom.xml" title="SL" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/blog-hexo/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/blog-hexo/">SL</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/blog-hexo/">SL</a></h1>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">Shaolong Lin</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/#"><img src="http://shaolongm17x.github.io/ife-baidu/level1/task3/sl.jpg"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">分类</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog-hexo/categories/web-development/">web development</a><span class="category-list-count">6</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">标签</a>
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/binary-tree/">binary tree</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/centering/">centering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/css/">css</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/flex-display/">flex display</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/form/">form</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/javascript/">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/javescript/">javescript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/scheduler/">scheduler</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog-hexo/tags/web/">web</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">归档</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog-hexo/archives/2016/">2016</a><span class="archive-list-count">6</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/blog-hexo/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/blog-hexo/archives" title="By Year">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
            
              <li>
                <a href="/blog-hexo/atom.xml" title="RSS">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          <h1>binary tree</h1>


  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/blog-hexo/2016/03/27/Make-a-binary-tree-into-array/" >
  Make a binary tree into array
</a>

      </h3>
      

      <div class="article-info">
        <a href="/blog-hexo/2016/03/27/Make-a-binary-tree-into-array/"><span class="article-date">
  2016-03-27
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/blog-hexo/categories/web-development/">web development</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/blog-hexo/categories/web-development/javescript/">javescript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-hexo/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-hexo/tags/binary-tree/">binary tree</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog-hexo/tags/javescript/">javescript</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>If you want to make your binary tree, whether or not it is a binary search tree, into an array, and you want to make every empty node properly contained in the array. For example, you have a binary search tree created by inserting [1, 2, 3], and you want to use an array [1, #, 2, #, #, #, 3] to represent it. Here’s how:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="xml"></span><br><span class="line">    // return An array representation of the BST, </span><br><span class="line">    // where empty nodes are represented by null/undefined</span><br><span class="line">    toArray: function() &#123;</span><br><span class="line">        function toArray_rec(current_height, max_height, n, node, arr) &#123;</span><br><span class="line">            if (node != null) &#123;</span><br><span class="line">                arr[n - 1] = node.value;</span><br><span class="line">            &#125;</span><br><span class="line">            if (current_height <span class="tag">&lt; <span class="attr">max_height</span> &amp;&amp; <span class="attr">node</span> != <span class="attr">null</span>) &#123;</span><br><span class="line">                <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span>, <span class="attr">node.left</span>, <span class="attr">arr</span>);</span><br><span class="line">                <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span> + <span class="attr">1</span>, <span class="attr">node.right</span>, <span class="attr">arr</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">var</span> <span class="attr">max_height</span> = <span class="attr">this.heightOfTree</span>();</span><br><span class="line">        <span class="attr">var</span> <span class="attr">array</span> = <span class="attr">new</span> <span class="attr">Array</span>(<span class="attr">Math.pow</span>(<span class="attr">2</span>, <span class="attr">max_height</span>)<span class="attr">-1</span>);</span><br><span class="line">        <span class="attr">toArray_rec</span>(<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">1</span>, <span class="attr">this.root</span>, <span class="attr">array</span>);</span><br><span class="line">        <span class="attr">return</span> <span class="attr">array</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">heightOfTree:</span> <span class="attr">function</span>() &#123;</span><br><span class="line">        <span class="attr">function</span> <span class="attr">height_rec</span>(<span class="attr">node</span>) &#123;</span><br><span class="line">            <span class="attr">if</span> (<span class="attr">node</span> =<span class="string">==</span> <span class="attr">null</span>) &#123;<span class="attr">return</span> <span class="attr">0</span>;&#125;</span><br><span class="line">            <span class="attr">var</span> <span class="attr">left_height</span> = <span class="attr">height_rec</span>(<span class="attr">node.left</span>);</span><br><span class="line">            <span class="attr">var</span> <span class="attr">right_height</span> = <span class="attr">height_rec</span>(<span class="attr">node.right</span>);</span><br><span class="line">            <span class="attr">return</span> <span class="attr">1</span> + <span class="attr">Math.max</span>(<span class="attr">left_height</span>, <span class="attr">right_height</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">return</span> <span class="attr">height_rec</span>(<span class="attr">this.root</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>This is part of the code from my implementation of binary tree class. The toArray method will work fine with normal binary tree.</p>
<p>The heightOfTree() method is a helper method used to calculate the height of our tree. </p>
<p>In the toArray() method, we first define a recursive version of it, and in the first step (or you can say, base case), you do the actual work, if the node is not null. When the node is null, here I did nothing because in this way the position of null node will simply remain null in the generated array. But you can of course make it into something else, using an else statement.</p>
<p>Then we look at the current height. If the current height is not the maximum height, it means we can go further, and we only go further if our current node is not null. </p>
<p>If the current node is null, the following nodes’ position in array will be null, by default. If you want to go further into the null node and modify the value in the result array, here’s what you can do:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="xml"></span><br><span class="line">    if (current_height <span class="tag">&lt; <span class="attr">max_height</span>) &#123;</span><br><span class="line">        <span class="attr">if</span> (<span class="attr">node</span> =<span class="string">=</span> <span class="attr">null</span>) &#123; // <span class="attr">we</span> <span class="attr">go</span> <span class="attr">further</span> <span class="attr">into</span> <span class="attr">the</span> <span class="attr">null</span> <span class="attr">node</span> <span class="attr">by</span> <span class="attr">passing</span> <span class="attr">null</span> <span class="attr">as</span> <span class="attr">parameter</span></span><br><span class="line">            <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span>, <span class="attr">null</span>, <span class="attr">arr</span>);</span><br><span class="line">            <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span> + <span class="attr">1</span>, <span class="attr">null</span>, <span class="attr">arr</span>);</span><br><span class="line">        &#125; <span class="attr">else</span> &#123;</span><br><span class="line">            <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span>, <span class="attr">node.left</span>, <span class="attr">arr</span>);</span><br><span class="line">            <span class="attr">toArray_rec</span>(<span class="attr">current_height</span>+<span class="attr">1</span>, <span class="attr">max_height</span>, <span class="attr">2</span>*<span class="attr">n</span> + <span class="attr">1</span>, <span class="attr">node.right</span>, <span class="attr">arr</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>By the way, the 2n here represent the left child of our current node, and 2n+1 represents the right child, because of the property of binary tree.</p>
<p>After the recursive function, it becomes pretty easy. First we get the height of our tree as the maximum height, and we create a new array to include all the value of the nodes. The length of the array should be 2^height - 1, because the total number of nodes in a binary tree of height n is 1+2+4+8+…+ 2^(n-1). Then we call the recursive function. Voila!</p>

        
      </div>
    </div>

  
    </div>
  






          <div class="main-footer">
  
    © 2016 SL - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/blog-hexo/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/blog-hexo/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/blog-hexo/PhotoSwipe/photoswipe.js"></script>
  <script src="/blog-hexo/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/blog-hexo/scripts/main.js"></script>

</body>
</html>
